---
title: "Stealth endpoints"
description: "Create stealth payments and scan announcements"
---

## POST `/api/v1/stealth/create`

Create payment data from a recipient meta-address.

### Request body

```json
{
  "meta_address": "<hex>",
  "channel_id": null
}
```

```javascript
const create = await fetch("http://localhost:3001/api/v1/stealth/create", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ meta_address })
});
const created = await create.json();
console.log(created.stealth_address);
```

### Response highlights

- `stealth_address`
- `stealth_sui_address`
- `ephemeral_ciphertext`
- `view_tag`
- `announcement`

<Info>
`channel_id` is present in the request DTO but not used in the current create handler.
</Info>

## POST `/api/v1/stealth/scan`

Scan announcements with recipient keys.

### Request body

```json
{
  "viewing_sk": "<hex>",
  "spending_pk": "<hex>",
  "spending_sk": "<hex>",
  "view_tags": [42],
  "from_timestamp": 1700000000,
  "to_timestamp": 1700003600
}
```

```javascript
const scan = await fetch("http://localhost:3001/api/v1/stealth/scan", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ viewing_sk, spending_pk, spending_sk })
});
const result = await scan.json();
console.log(result.discoveries.length);
```

### Response highlights

- `discoveries[]` with `stealth_address`, `eth_private_key`, and metadata
- `stats` with scan counts, duration, and rate

## Source references

- `../SPECTER/specter/specter-api/src/handlers.rs`
- `../SPECTER/specter/specter-api/src/dto.rs`
- `../SPECTER/specter/specter-stealth/src/discovery.rs`
