---
title: "Keys endpoint"
description: "Generate SPECTER spending/viewing keys and meta-address payload"
---

<CardGroup cols={2}>
  <Card title="Single-call key generation" icon="key-round">
    `POST /api/v1/keys/generate` returns spending and viewing keypairs plus a meta-address.
  </Card>
  <Card title="Use output in next steps" icon="arrow-right" href="/api/stealth">
    Feed `meta_address` into the stealth create endpoint.
  </Card>
</CardGroup>

## Endpoint

`POST /api/v1/keys/generate`

No request body is required.

## Typical flow

<Steps>
  <Step title="Call the endpoint">
    Trigger key generation once per new recipient identity.
  </Step>
  <Step title="Store secrets securely">
    Persist `spending_sk` and `viewing_sk` in encrypted storage only.
  </Step>
  <Step title="Publish meta-address">
    Use `meta_address` with IPFS + ENS/SuiNS registration.
  </Step>
</Steps>

## Example calls

<Tabs>
  <Tab title="cURL">

```bash
curl -s -X POST http://localhost:3001/api/v1/keys/generate | jq .
```

  </Tab>
  <Tab title="JavaScript">

```javascript
const res = await fetch("http://localhost:3001/api/v1/keys/generate", {
  method: "POST"
});

const keys = await res.json();
console.log(keys.meta_address);
```

  </Tab>
</Tabs>

## Response schema

<ParamField body="spending_pk" type="string" required>
Hex-encoded spending public key.
</ParamField>
<ParamField body="spending_sk" type="string" required>
Hex-encoded spending secret key (sensitive).
</ParamField>
<ParamField body="viewing_pk" type="string" required>
Hex-encoded viewing public key.
</ParamField>
<ParamField body="viewing_sk" type="string" required>
Hex-encoded viewing secret key (sensitive).
</ParamField>
<ParamField body="meta_address" type="string" required>
Hex-encoded SPECTER meta-address combining spending + viewing public keys.
</ParamField>
<ParamField body="view_tag" type="integer" required>
Base view tag derived from viewing public key bytes.
</ParamField>

<Warning>
Never log or commit `spending_sk` or `viewing_sk`.
</Warning>

<AccordionGroup>
  <Accordion title="How `view_tag` is computed here">
    The endpoint computes `view_tag` from the viewing public key bytes (`compute_view_tag(viewing.public.as_bytes())`).
  </Accordion>
  <Accordion title="What this endpoint does not do">
    It does not persist key material to disk and does not register ENS/SuiNS records.
  </Accordion>
</AccordionGroup>

## Source references

- `../SPECTER/specter/specter-api/src/handlers.rs`
- `../SPECTER/specter/specter-api/src/dto.rs`
- `../SPECTER/specter/specter-crypto/src/view_tag.rs`
