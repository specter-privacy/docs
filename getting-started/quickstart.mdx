---
title: "Quickstart"
description: "Run a full keygen -> stealth create -> publish -> scan loop in minutes"
---

This tutorial runs a full local stealth flow against the API.

<Note>
Start the backend first: `cargo run --bin specter -- serve --port 3001` from `SPECTER/specter`.
</Note>

## 1. Generate keys

```bash
curl -s -X POST http://localhost:3001/api/v1/keys/generate | tee /tmp/specter-keys.json
```

Extract fields:

```bash
META_ADDRESS=$(jq -r '.meta_address' /tmp/specter-keys.json)
VIEWING_SK=$(jq -r '.viewing_sk' /tmp/specter-keys.json)
SPENDING_PK=$(jq -r '.spending_pk' /tmp/specter-keys.json)
SPENDING_SK=$(jq -r '.spending_sk' /tmp/specter-keys.json)
```

## 2. Create stealth payment data

```bash
curl -s -X POST http://localhost:3001/api/v1/stealth/create \
  -H 'Content-Type: application/json' \
  -d "{\"meta_address\":\"$META_ADDRESS\"}" | tee /tmp/specter-create.json
```

```bash
EPHEMERAL_KEY=$(jq -r '.ephemeral_ciphertext' /tmp/specter-create.json)
VIEW_TAG=$(jq -r '.view_tag' /tmp/specter-create.json)
STEALTH_ADDRESS=$(jq -r '.stealth_address' /tmp/specter-create.json)
echo "Send funds to: $STEALTH_ADDRESS"
```

## 3. Publish the announcement

`tx_hash` is required by the API. Use the real chain tx hash after sending funds.

```bash
curl -s -X POST http://localhost:3001/api/v1/registry/announcements \
  -H 'Content-Type: application/json' \
  -d "{\"ephemeral_key\":\"$EPHEMERAL_KEY\",\"view_tag\":$VIEW_TAG,\"tx_hash\":\"0x1111111111111111111111111111111111111111111111111111111111111111\",\"amount\":\"0.01\",\"chain\":\"ethereum\"}"
```

## 4. Scan for discoveries

```bash
curl -s -X POST http://localhost:3001/api/v1/stealth/scan \
  -H 'Content-Type: application/json' \
  -d "{\"viewing_sk\":\"$VIEWING_SK\",\"spending_pk\":\"$SPENDING_PK\",\"spending_sk\":\"$SPENDING_SK\"}" | jq .
```

Expected: one discovery with `stealth_address` matching step 2.

## Source references

- `../SPECTER/specter/specter-api/src/routes.rs`
- `../SPECTER/specter/specter-api/src/handlers.rs`
- `../SPECTER/specter/specter-api/src/dto.rs`
